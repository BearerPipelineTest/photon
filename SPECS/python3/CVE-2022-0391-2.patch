From 3afcf187ae45b8eced2c1d2b32dbd84d43a8a4af Mon Sep 17 00:00:00 2001
From: Senthil Kumaran <senthil@uthcode.com>
Date: Thu, 20 May 2021 07:06:48 -0700
Subject: [PATCH 1/2] Add What's New for bpo-43882 - urllib.parse should
 sanitize urls containing ASCII newline and tabs

---
 Doc/whatsnew/3.7.rst | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/Doc/whatsnew/3.7.rst b/Doc/whatsnew/3.7.rst
index 85f924b2e41f3..89f9030fd3726 100644
--- a/Doc/whatsnew/3.7.rst
+++ b/Doc/whatsnew/3.7.rst
@@ -2570,3 +2570,13 @@ IPv4 address sent from the remote server when setting up a passive data
 functions internally. For more details, please see their respective
 documentation.
 (Contributed by Adam Goldschmidt, Senthil Kumaran and Ken Jin in :issue:`42967`.)
+
+
+The presence of newline or tab characters in parts of a URL allows for some
+forms of attacks. Following the WHATWG specification that updates RFC 3986,
+ASCII newline ``\n``, ``\r`` and tab ``\t`` characters are stripped from the
+URL by the parser :func:`urllib.parse` preventing such attacks. The removal
+characters are controlled by a new module level variable
+``urllib.parse._UNSAFE_URL_BYTES_TO_REMOVE``. (See :issue:`43882`)
+
+

